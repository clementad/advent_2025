(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const T=[{day:1,type:"Folklore",text:"In Iceland, the 'Yule Lads' (JÃ³lasveinar) are 13 trolls who visit children on the 13 nights leading up to Christmas. Each has a specific mischief, like 'Spoon-Licker' or 'Door-Slammer'.",source:"Source: National Museum of Iceland"},{day:2,type:"Tradition",text:"In Ukraine, it's traditional to hang spider web ornaments on the tree. The 'Legend of the Christmas Spider' says a spider spun webs on a poor widow's tree, which turned into gold.",source:"Source: Ukraine.com"},{day:3,type:"History",text:"Christmas was illegal in Boston from 1659 to 1681. The Puritans believed it was a corrupt holiday with no biblical basis and fined anyone caught celebrating.",source:"Source: Mass.gov"},{day:4,type:"Folklore",text:"In Italy, a witch named 'La Befana' delivers gifts to children on Epiphany Eve (January 5th). She flies on a broomstick and enters through the chimney, just like Santa.",source:"Source: Italian Tourism"},{day:5,type:"Tradition",text:"In Caracas, Venezuela, it is customary to travel to early morning church services on roller skates. The streets are even closed to cars to ensure safety.",source:"Source: Metro.co.uk"},{day:6,type:"Mini Game",gameType:"catch-elf",text:"The Yule Lads are loose! Catch the mischievous elf before he steals the sausages!",source:"Interactive Game"},{day:7,type:"Folklore",text:"The 'Krampus' is a horned, anthropomorphic figure in Alpine folklore who punishes children who have misbehaved, acting as the dark counterpart to Saint Nicholas.",source:"Source: National Geographic"},{day:8,type:"Tradition",text:"In Catalonia, Spain, the 'Caganer' is a figurine of a defecating man placed in the nativity scene. It symbolizes fertilization of the earth and brings good luck for the harvest.",source:"Source: Barcelona.de"},{day:9,type:"History",text:"The song 'Silent Night' was first performed in 1818 in Austria because the church organ was broken. It was written for guitar and two voices as a last-minute solution.",source:"Source: Silent Night Society"},{day:10,type:"Tradition",text:"In Japan, eating KFC is a huge Christmas tradition. It started with a 'Kentucky for Christmas' marketing campaign in 1974 and now requires ordering weeks in advance.",source:"Source: BBC Worklife"},{day:11,type:"Folklore",text:"In Norway, people hide their brooms on Christmas Eve. It's believed that witches and evil spirits come out and look for brooms to ride on.",source:"Source: Visit Norway"},{day:12,type:"Mini Game",gameType:"decorate-tree",text:"Decorate the Christmas Tree! Click anywhere on the tree to add an ornament.",source:"Interactive Game"},{day:13,type:"History",text:"The first artificial Christmas trees were made in Germany in the 19th century using dyed goose feathers.",source:"Source: History.com"},{day:14,type:"Folklore",text:"The 'Mari Lwyd' is a Welsh tradition involving a horse's skull mounted on a pole, carried by a person hidden under a sack. They go door-to-door singing challenges to gain entry.",source:"Source: Museum Wales"},{day:15,type:"Tradition",text:"In Oaxaca, Mexico, December 23rd is the 'Night of the Radishes' (Noche de RÃ¡banos), where elaborate scenes are carved out of giant radishes.",source:"Source: Oaxaca Travel"},{day:16,type:"History",text:"Rudolph the Red-Nosed Reindeer was created in 1939 by a copywriter for the Montgomery Ward department store as a marketing gimmick for a coloring book.",source:"Source: Smithsonian Magazine"},{day:17,type:"Folklore",text:"The 'JÃ³lakÃ¶tturinn' (Yule Cat) is a giant, vicious cat in Icelandic folklore who lurks in the snowy countryside and eats people who haven't received new clothes for Christmas.",source:"Source: Smithsonian Magazine"},{day:18,type:"Mini Game",gameType:"trivia",text:"Test your knowledge of Christmas oddities!",source:"Interactive Quiz",question:"In which country do people hide a pickle ornament in the Christmas tree?",options:["Germany","USA","Poland","Russia"],answer:"USA"},{day:19,type:"Tradition",text:"In Sweden, millions of people watch a 1958 Disney special called 'Donald Duck and His Friends Wish You a Merry Christmas' at 3 PM on Christmas Eve. It's a national ritual.",source:"Source: Slate"},{day:20,type:"History",text:"Mistletoe is actually a parasitic plant that grows on trees like oak and apple. The tradition of kissing under it dates back to ancient Norse mythology and Druid rites.",source:"Source: The English Garden"},{day:21,type:"Tradition",text:"In Greenland, a traditional Christmas delicacy is 'Mattak' (raw whale skin with blubber) and 'Kiviak' (auk birds fermented in a seal skin for months).",source:"Source: Greenland Travel"},{day:22,type:"History",text:"The abbreviation 'Xmas' is not irreligious. The 'X' comes from the Greek letter Chi, which is the first letter of the Greek word for Christ (Î§ÏÎ¹ÏƒÏ„ÏŒÏ‚).",source:"Source: Vox"},{day:23,type:"Folklore",text:"In Greek folklore, the 'Kallikantzaroi' are malevolent goblins who live underground and come up during the 12 days of Christmas to saw down the World Tree.",source:"Source: Greek Mythology"},{day:24,type:"Mini Game",gameType:"memory",text:"Christmas Memory Match! Find all the pairs to win.",source:"Interactive Game"}],h=document.querySelector("#app"),S=document.body,l=document.createElement("div");l.className="modal-overlay";const m=document.createElement("div");m.className="modal-content";const f=document.createElement("div");f.className="modal-type";const g=document.createElement("div");g.className="modal-text";const i=document.createElement("div");i.className="game-container";const v=document.createElement("div");v.className="modal-source";const u=document.createElement("button");u.className="modal-close";u.textContent="Close";m.appendChild(f);m.appendChild(g);m.appendChild(i);m.appendChild(v);m.appendChild(u);l.appendChild(m);S.appendChild(l);const w="advent_opened_doors",x=()=>{const e=localStorage.getItem(w);return e?JSON.parse(e):[]},L=e=>{const t=x();t.includes(e)||(t.push(e),localStorage.setItem(w,JSON.stringify(t)))};let y=0;const M=()=>{i.innerHTML="",y=0;const e=document.createElement("div");e.className="elf-target",e.textContent="ğŸ§",i.appendChild(e);const t=()=>{const o=Math.random()*250-125,n=Math.random()*100-50;e.style.transform=`translate(${o}px, ${n}px)`};e.addEventListener("click",()=>{y++,y>=5?i.innerHTML='<div class="modal-text" style="color: green">You caught the elf! Christmas is saved! ğŸ</div>':t()}),t()},E=(e,t,r)=>{i.innerHTML="";const a=document.createElement("div");a.className="modal-text",a.textContent=e,i.appendChild(a);const o=document.createElement("div");o.className="trivia-options",t.forEach(n=>{const s=document.createElement("button");s.className="trivia-btn",s.textContent=n,s.addEventListener("click",()=>{const c=o.querySelectorAll("button");c.forEach(d=>d.disabled=!0),n===r?(s.classList.add("correct"),i.insertAdjacentHTML("beforeend",'<div style="margin-top:1rem; color:green">Correct! ğŸ„</div>')):(s.classList.add("wrong"),c.forEach(d=>{d.textContent===r&&d.classList.add("correct")}),i.insertAdjacentHTML("beforeend",'<div style="margin-top:1rem; color:red">Oops! The answer was '+r+"</div>"))}),o.appendChild(s)}),i.appendChild(o)},N=()=>{i.innerHTML="";const e=document.createElement("div");e.className="tree-container",i.appendChild(e);const t=["#ef4444","#fbbf24","#3b82f6","#a855f7","#fff"];e.addEventListener("click",r=>{const a=e.getBoundingClientRect(),o=r.clientX-a.left,n=r.clientY-a.top,s=document.createElement("div");s.className="ornament",s.style.left=o+"px",s.style.top=n+"px",s.style.backgroundColor=t[Math.floor(Math.random()*t.length)],e.appendChild(s)})},I=()=>{i.innerHTML="";const e=["ğŸ…","ğŸ„","ğŸ","â›„","ğŸ¦Œ","ğŸ””"],t=[...e,...e];t.sort(()=>Math.random()-.5);const r=document.createElement("div");r.className="memory-grid";let a=[],o=0;t.forEach((n,s)=>{const c=document.createElement("div");c.className="memory-card",c.dataset.value=n,c.dataset.index=s,c.textContent=n,c.addEventListener("click",()=>{if(!(c.classList.contains("flipped")||c.classList.contains("matched")||a.length>=2)&&(c.classList.add("flipped"),a.push(c),a.length===2)){const[d,p]=a;d.dataset.value===p.dataset.value?(d.classList.add("matched"),p.classList.add("matched"),o++,a=[],o===e.length&&setTimeout(()=>{i.innerHTML='<div class="modal-text" style="color: green">You matched them all! Merry Christmas! ğŸ„</div>'},500)):setTimeout(()=>{d.classList.remove("flipped"),p.classList.remove("flipped"),a=[]},1e3)}}),r.appendChild(c)}),i.appendChild(r)},D=e=>{const{type:t,text:r,source:a,gameType:o}=e;f.textContent=t,g.textContent=r,v.textContent=a||"",i.innerHTML="",t==="Mini Game"&&(o==="catch-elf"?M():o==="trivia"?E(e.question,e.options,e.answer):o==="decorate-tree"?N():o==="memory"&&I()),l.classList.add("active")},b=()=>{l.classList.remove("active"),i.innerHTML=""};u.addEventListener("click",b);l.addEventListener("click",e=>{e.target===l&&b()});const G=()=>{const t=new URLSearchParams(window.location.search).get("debug_date");return t?new Date(t):new Date},k=G(),C=k.getMonth(),H=k.getDate(),O=e=>C<11?!1:C>11?!0:e<=H,A=e=>{const{day:t}=e;if(!O(t))return null;const r=document.createElement("div");r.className="door-container";const a=document.createElement("div");a.className="door",x().includes(t)&&a.classList.add("opened");const n=document.createElement("span");return n.textContent=t,a.appendChild(n),r.appendChild(a),r.addEventListener("click",()=>{D(e),a.classList.add("opened"),L(t)}),r},F=()=>{let e=!1;if(T.forEach(t=>{const r=A(t);r&&(h.appendChild(r),e=!0)}),!e){const t=document.createElement("div");t.style.textAlign="center",t.style.color="var(--gold)",t.style.marginTop="2rem",t.innerHTML=`
      <h2>Coming Soon! ğŸ„</h2>
      <p style="margin-top: 1rem; font-size: 1.2rem;">The Advent Calendar begins on December 1st.</p>
      <p style="margin-top: 0.5rem; color: #94a3b8;">Come back tomorrow to open the first door!</p>
    `,h.appendChild(t),h.style.display="flex",h.style.flexDirection="column",h.style.alignItems="center"}};F();
